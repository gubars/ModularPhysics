# Supermanifolds Folder - Issues to Fix

## Summary

The algebraic foundations (Superalgebra.lean, GrassmannAlgebra, Berezinian) are well-developed.
The main gaps are in sheaf-theoretic structures, super Lie groups/algebras, and integration theory.

---

## Supermanifolds.lean (~60 True placeholders)

### LocalSuperAlgebra (lines 99-105)
- `maxIdeal_isIdeal : True` - Should be `Ideal.IsPrime maxIdeal` or similar from Mathlib
- `maxIdeal_unique : True` - Uniqueness of maximal ideal

### SuperRingedSpace (lines 158-166)
- `restriction_hom : True` - Restriction homomorphisms for sheaf
- `sheaf_locality : True` - Sheaf locality axiom
- `sheaf_gluing : True` - Sheaf gluing axiom
- Consider using Mathlib's `TopCat.Sheaf` formalism

### LocallySuperRingedSpace (line 181)
- `stalks_local : True` - Stalks are local superalgebras

### SuperRingedSpaceMorphism (lines 198-200)
- `pullback_hom : True` - Pullback is algebra homomorphism
- `stalks_local : True` - Preserves locality of stalks

### Supermanifold (line 374)
- `sheafCondition : True` - Should use proper sheaf formalism

### SupermanifoldMorphism (line 397)
- `pullback_hom : True` - Pullback is algebra homomorphism

### SuperChart (lines 416, 420)
- `bodyCoord_homeo : True` - Should be `IsOpenEmbedding bodyCoord`
- `sheafIso : True` - Sheaf isomorphism O_M|_domain ‚âÖ (C^‚àû ‚äó ‚àß‚Ä¢‚Ñù^q)|_image

### SuperCoordinates (lines 438-444)
- `evenCoords_even : True` - Even coordinates are even elements
- `oddCoords_odd : True` - Odd coordinates are odd elements
- `oddCoords_anticomm : True` - Œ∏·µÉ * Œ∏·µá = -Œ∏·µá * Œ∏·µÉ
- `oddCoords_sq_zero : True` - (Œ∏·µÉ)¬≤ = 0

### SuperAtlas (line 456)
- `transitions_smooth : True` - Transition functions are smooth

### SuperTransition (lines 507, 509)
- `invertible : True` - Transition is invertible
- `body_diffeo : True` - Body of transition is diffeomorphism

### SplitSupermanifold (lines 620-622)
- `bundle_rank : True` - rank E = dim.odd
- `splitting_iso : True` - Structure sheaf ‚âÖ ‚àß‚Ä¢E*

### NilpotentIdeal (lines 698-704)
- `ideal : True` - J ‚äÇ O_M is the ideal of odd elements
- `localGenerators : True` - J locally generated by Œ∏¬π,...,Œ∏^q
- `nilpotent : ... ‚Üí True` - J^{q+1} = 0
- `quotientIsBody : True` - O_M/J = O_{M_red}

### NilpotentFiltration (lines 710-714)
- `power : ‚Ñï ‚Üí True` - The k-th power J^k
- `terminates : True` - J^{q+1} = 0
- `gradedPiecesLocallyFree : True` - J^k/J^{k+1} locally free

### OddCotangentBundle (lines 724-726)
- `rank_eq : True` - rank(E*) = dim.odd
- `isFirstGradedPiece : True` - E* = J/J¬≤

### SplittingData (lines 735-737)
- `iso : True` - Isomorphism O_M ‚âÖ ‚àß‚Ä¢E*
- `graded : True` - Compatible with grading

### SuperVectorBundle (lines 822-824)
- `localTriviality : True` - E|_U ‚âÖ U √ó ‚Ñù^{r|s}
- `transitions : True` - Transitions in GL(r|s)

### BerezinianBundle (line 887)
- `transitions_berezinian : True` - Transitions are Berezinians

### SuperLieGroup (lines 976-990) - **HIGH PRIORITY**
- `mul : True` - Multiplication morphism G √ó G ‚Üí G
- `inv : True` - Inversion morphism G ‚Üí G
- `assoc : True` - Associativity
- `left_id : True` - Left identity
- `right_id : True` - Right identity
- `left_inv : True` - Left inverse
- `right_inv : True` - Right inverse
- **Suggestion**: Define as group object in SMan category, or use Mathlib's Group

### LieSuperalgebra (lines 1003-1007) - **HIGH PRIORITY**
- `bracket : True` - Lie bracket [¬∑,¬∑] : ùî§ √ó ùî§ ‚Üí ùî§
- `super_antisymm : True` - [X,Y] = -(-1)^{|X||Y|}[Y,X]
- `super_jacobi : True` - Super Jacobi identity
- **Suggestion**: Define bracket as bilinear map with explicit axioms

### ChiralSuperfield (line 1093)
- `chiral : True` - Chirality constraint DÃÑŒ¶ = 0

### SuperPoincareAlgebra (line 1114)
- `relations : True` - Algebra relations

---

## BerezinIntegration.lean (~14 True placeholders)

### SuperPartitionOfUnity (lines 475-481)
- `locallyFinite : True` - Each point meets finitely many supports
- `sum_eq_one : True` - Œ£_Œ± œÅ_Œ±(x) = 1
- `subordinate : True` - supp(œÅ_Œ±) ‚äÜ U_Œ±
- `vanishesNearBoundary : True` - œÅ_Œ± vanishes near boundary

### GlobalIntegralForm (line 568)
- `compatible : True` - Cocycle condition for gluing

### CompactlySupportedIntegralForm (line 776)
- `compact_support : True` - Support is compact

---

## Helpers/OddDerivations.lean (~3 True placeholders)

### Superholomorphic (lines 158-160)
- `f0_hol : True` - ‚àÇf‚ÇÄ/‚àÇzÃÑ = 0
- `f1_hol : True` - ‚àÇf‚ÇÅ/‚àÇzÃÑ = 0

---

## Notable `sorry` occurrences

1. **Supermanifolds.lean**:
   - `supercommutative` theorem (line 304)
   - `batchelor_theorem` (line 640)
   - `batchelor_splitting` (line 748)
   - `partialEven` definition (line 777)
   - `partialOdd_odd_derivation` theorem (line 799)

2. **BerezinIntegration.lean**:
   - `berezin_change_of_variables_formula` (line 287)
   - `partition_of_unity_exists` (line 558)
   - `globalBerezinIntegral_independent` (line 606)

---

## Priority Order for Fixes

### High Priority (Core Structures)
1. `SuperLieGroup` - Define proper group operations
2. `LieSuperalgebra` - Define bracket with super-antisymmetry and super-Jacobi
3. `SuperChart` - Proper homeomorphism/isomorphism conditions

### Medium Priority (Sheaf Theory)
4. `SuperRingedSpace` sheaf axioms - Use Mathlib's sheaf formalism
5. `LocalSuperAlgebra` ideal axioms - Use Mathlib's Ideal API
6. `Supermanifold.sheafCondition` - Proper sheaf condition

### Lower Priority (Integration)
7. `SuperPartitionOfUnity` conditions
8. `GlobalIntegralForm.compatible` cocycle condition

---

## Notes

- The **Superalgebra.lean** file is well-developed with proper Parity, GrassmannAlgebra, and SuperCommutative
- The **Berezinian** computation in Helpers/ is rigorous with proper Schur complements
- Main work needed is connecting to Mathlib's existing sheaf and group infrastructure
